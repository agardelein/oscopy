# First read data from IRF540 simulation
print "*** Reading files and setting plots"
# Plot filter response
o_read demo/ac.dat
o_create
o_add vout
o_scale loglog
# Create a copy of vout and freeze it
vo=vout
o_import vo
o_freeze vo
o_insert vo
# Signal name change
o_read demo/irf540.dat
o_add vgs
o_add iRD
o_siglist
pwr = Signal(iRD * vds, 'W')
print 'id(pwr): 0x%x' % id(pwr)
o_import pwr
o_add pwr
pwr2 = pwr
o_import pwr2
o_freeze pwr2
o_insert pwr2
# Plot things
print "*** Now plotting everything"
#plot
# Updating
print "*** Now change C value in schematic and rerun gnetlist + gnucap"
#pause
print "*** Updating"
o_update
o_siglist
#pause
print "*** Updating only demo/ac.dat"
o_update demo/ac.dat
o_siglist
print "*** Now look at figure 3"
#plot
# Saving results
#write gnucap (ow:1) demo/res.dat v1,vsqu
