# First read data from IRF540 simulation
print("*** Reading files and setting plots")
# Plot filter response
oread demo/ac.dat
ocreate
oadd vout
oscale loglog
# Create a copy of vout and freeze it
vo=vout
oimport vo
ofreeze vo
oinsert vo
# Signal name change
oread demo/irf540.dat
oadd vgs
oadd iRD
osiglist
pwr = Signal(iRD * vds, 'W')
print('id(pwr): 0x%x' % id(pwr))
oimport pwr
oadd pwr
pwr2 = pwr
oimport pwr2
ofreeze pwr2
oinsert pwr2
# Plot things
print("*** Now plotting everything")
#plot
# Updating
print("*** Now change C value in schematic and rerun gnetlist + gnucap")
#pause
print("*** Updating")
oupdate
osiglist
#pause
print("*** Updating only demo/ac.dat")
oupdate demo/ac.dat
osiglist
print("*** Now look at figure 3")
#plot
# Saving results
#write gnucap (ow:1) demo/res.dat v1,vsqu
